<form [formGroup]="form" class="w-full max-w-5xl mx-auto py-5 min-h-[88vh]">
  <div class="flex justify-between w-full">
    <h2>
      {{
        crudType == ENUM_CRUD_TYPE.create
          ? "Criar"
          : crudType == ENUM_CRUD_TYPE.edit
          ? "Editar"
          : crudType == ENUM_CRUD_TYPE.view
          ? "Visualizar"
          : ""
      }}
      entidade
    </h2>
  </div>
  <div class="mt-5 py-4 bg-white rounded-2xl shadow-md">
    <div class="flex flex-wrap">
      <div class="w-1/3 p-3">
        <mat-form-field>
          <mat-label>Nome Fantasia</mat-label>
          <input matInput formControlName="fantasy_name" />
          <mat-error
            *ngIf="form.controls.fantasy_name.hasError('required') && sentForm"
            >Por favor, digite o nome fantasia</mat-error
          >
          <mat-error
            *ngIf="form.controls.fantasy_name.hasError('minlength') && sentForm"
            >O nome fantasia deve ter no mínimo 10 caracteres</mat-error
          >
        </mat-form-field>
      </div>

      <div class="w-1/3 p-3">
        <mat-form-field>
          <mat-label>Razão Social</mat-label>
          <input matInput formControlName="company_name" />
          <mat-error
            *ngIf="form.controls.company_name.hasError('required') && sentForm"
            >Por favor, digite a razão social</mat-error
          >
          <mat-error
            *ngIf="form.controls.company_name.hasError('minlength') && sentForm"
            >A razão social deve ter no mínimo 10 caracteres</mat-error
          >
        </mat-form-field>
      </div>

      <div class="w-1/3 p-3">
        <mat-form-field>
          <mat-label>CNPJ</mat-label>
          <input matInput formControlName="cnpj" mask="00.000.000/0000-00" />
          <mat-error *ngIf="form.controls.cnpj.hasError('required') && sentForm"
            >Por favor, digite o CNPJ</mat-error
          >
          <mat-error *ngIf="form.controls.cnpj.hasError('cpfCnpj')"
            >Por favor, digite um CNPJ válido</mat-error
          >
        </mat-form-field>
      </div>

      <div class="w-1/4 p-3">
        <mat-form-field>
          <mat-label>Especialidades</mat-label>
          <mat-select multiple formControlName="medical_specialties">
            <mat-option
              *ngFor="let medical_specialty of medical_specialities"
              [value]="medical_specialty.id"
              >{{ medical_specialty.label }}</mat-option
            >
          </mat-select>
          <mat-error
            *ngIf="
              form.controls.medical_specialties.hasError('required') && sentForm
            "
            >Por favor, selecione pelo menos uma especialidade</mat-error
          >
        </mat-form-field>
      </div>

      <div class="w-1/4 p-3">
        <mat-form-field>
          <mat-label>Região</mat-label>
          <mat-select formControlName="region">
            <mat-option *ngFor="let region of regions" [value]="region.id">{{
              region.label
            }}</mat-option>
          </mat-select>
          <mat-error
            *ngIf="form.controls.region.hasError('required') && sentForm"
            >Por favor, selecione uma região</mat-error
          >
        </mat-form-field>
      </div>

      <div class="w-4/12 p-3">
        <mat-form-field>
          <mat-label>Data de Inauguração</mat-label>
          <input
            matInput
            [matDatepicker]="picker"
            formControlName="inauguration_date"
            [min]="today"
          />
          <mat-datepicker-toggle
            matIconSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error
            *ngIf="
              form.controls.inauguration_date.hasError('required') && sentForm
            "
            >Por favor, selecione a data de inauguração</mat-error
          >
          <mat-error
            *ngIf="
              form.controls.inauguration_date.hasError('minDate') && sentForm
            "
            >A data de inauguração não pode ser menor que hoje</mat-error
          >
          <mat-error
            *ngIf="
              form.controls.inauguration_date.hasError('invalidDate') &&
              sentForm
            "
            >Por favor, digite uma data válida</mat-error
          >
        </mat-form-field>
      </div>

      <div class="p-3">
        <section>
          <mat-checkbox color="primary" formControlName="active"
            >Ativo</mat-checkbox
          >
        </section>
      </div>
    </div>
  </div>

  <div class="w-full flex justify-end pt-5">
    <default-button
      value="Enviar"
      (clickEvent)="sendForm()"
      form="meuForm"
    ></default-button>
  </div>
</form>
